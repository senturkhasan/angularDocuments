<div class="container">
  <div class="row">
    <form (ngSubmit)="onSubmit()" #f="ngForm" >
      <!--form (ngSubmit)="onSubmit(f)" #f="ngForm" >-->
      <div id="userData" 
           ngModelGroup="userData"
           #userData="ngModelGroup"
            >
        
        <div class="form-group">
          <label for="username">Username</label>
              <input type="text"
                      id="username"
                      class="form-control"
                      ngModel
                      name="username"
                      required> 
        </div>
        <div class="form-group">
          <label for="exampleInputPassword1">Password</label>
          <input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
        </div>
        <div class="form-group">
          <label for="email">Mail</label>
          <input type="email" 
                name="email" 
                id="email" 
                ngModel
                class="form-control"
                required
                #email="ngModel"  >
          <span  class="help-block" *ngIf="!email.valid && email.touched"  >Please enter valid email adress</span>  
          <p *ngIf="!f.valid">Plsease enter a valid value!</p>

        </div>
    </div>
      <P *ngIf="!userData.valid && userData.touched ">User Data is invalid</P>
      <div class="form-group">
        <label for="secret">Secret Question</label>
        <select name="secret"  
                class="form-control" 
                id="secret"
                [ngModel]="defaultQuestion">
              <option value="pet"> Your first pet ?</option>
              <option value="teach"> Your first teacher ?</option>
         </select>
      </div>
       <div class="form-group">
        <textarea name="questionAnswer" 
                  class="form-control" 
                  [(ngModel)]="answer"
                  rows="3"></textarea>
       </div> 
       <p> Your reply : {{answer}} </p>
       <div class="radio" *ngFor="let gender of genders">
        <label >
          <input type="radio"
          name="gender"
          ngModel
          [value]="gender"
          required>
        {{ gender}}
        </label>
       
       </div>

      <button class="btn btn-primary" 
                  type="button"
                  (click)="suggestUserName()"
                  >Suggest an username</button>
      <button class="btn btn-primary" 
                  type="submit"
                  id="submt"
                  [disabled]="!f.valid"
                  >Submit</button>
    </form>

  </div>
  <div class="row" *ngIf="submitted"> 
    <div class="col-xs-12" >
      <h3>Your Data</h3>
      <p>UserName : {{ user.username}}</p>
      <p>Email : {{ user.email }}</p>
      <p>gender : {{ user.gender }}</p>
    </div>
  </div>
</div>